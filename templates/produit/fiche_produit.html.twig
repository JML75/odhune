{% extends 'base.html.twig' %}

{% block title %}
	{{ parent() }}
	| fiche produit
{% endblock %}
{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('css/fiche_produit.css') }}">
{% endblock %}


{% block content %}
	<div class="col-12 d-flex main justify-content-start ">

		<div class="col-8">

			<div id="carouselExampleIndicators" class="carousel carousel-dark slide" data-bs-ride="carousel">
				<div class="carousel-indicators">
					{% for photo in produit.photoProduits %}
					
						{% if photo.position ==1 %}
						<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="{{ photo.position -1 }}" class="carousselIndiator active" aria-current="true" aria-label="Slide ~{{ photo.position}}"></button>
							
						{% else %}
						<button type="button" data-bs-target="#carouselExampleIndicators"  data-bs-slide-to="{{ photo.position -1 }}"   class="carousselIndicator" aria-label="Slide ~{{ photo.position}}"></button>
							
						{% endif %}
						
					{% endfor %}
				</div>
				<div class="carousel-inner">

					{% for photo in produit.photoProduits %}
					 %}
						{% if photo.position == 1 %}

						<div class="carousel-item active">
							<img class="d-block w-100" src="{{ asset("img/photoProduitUpload/" ~  photo.nom ) }}" alt="slide "~{{ photo.position }}>
						</div>

						{% else %}
						<div class="carousel-item">
						<img class="d-block w-100" src="{{ asset("img/photoProduitUpload/" ~  photo.nom ) }}"  alt="slide "~{{ photo.position }}>
					</div>
						{% endif %}
						
					{% endfor %}
	
				</div>
				<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
					<span class="carousel-control-prev-icon" aria-hidden="true"></span>
					<span class="visually-hidden">Previous</span>
				</button>
				<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
					<span class="carousel-control-next-icon" aria-hidden="true"></span>
					<span class="visually-hidden">Next</span>
				</button>
			</div>
		</div>
		

		<div class=" col-3 d-flex justify-content-center align-items-center mx-auto">
			<div  class=" mt-5 mx-auto">

				<div id="data">
					<p class='nomProduit'>{{ produit.nom }}</h3>
					<p>{{ produit.ref }}</p>
					<p>{{ produit.categorie }}</p>
					<p>{{ produit.prixPubTtc }} €</p>
					<br>
					<p id="description">{{ produit.description}}</p>
				
				</div>
					<br>
				<form action="{{ path('panier_ajouter') }}" method="post">
						<div class="row">
							<div class="col-12 d-flex flex-row my-2 mx-2 color_select align-items-center">			
								<input id="noire" checked type="radio" name="color" value="Noir">
								<label id="label_noire" for="noire"></label>
								
								<input id="ecaille" type="radio" name="color" value="Ecaille">
								<label id="label_ecaille" for="ecaille"></label>
								
								<input id="cristal"  type="radio" name="color" value="Cristal">
								<label id="label_cristal"  for="cristal"></label>

								<label  id="label_qty" class ='mx-2' for="qty">Quantité</label>
								<input id= "qty" type="number" name="qty" id="qty" min="1" max="10" step="1" value="1">
							</div>
	
						</div>
						  <input type="hidden" name="id" value ="{{ produit.id }}">
				<button type="submit" onclick ="updateCartItem()" class="col-12 btn mt-5 ">Ajouter au panier</button>
				</form>
			</div>

		</div>


	</div>
{% endblock %}


{% block javascripts %}

	<script>
		$(document).ready(function () {
		$('.carousel').carousel({
		keyboad: true,
		touch:true
	
	})
});
	</script>
	<script>
	{# function updateCartItem (){
		let nbCartItems = {{ nb_item }}
		nbCartItems = nbCartItems + 1

    if (nbCartItems>0){document.querySelector('#cart_items').innerHTML=nbCartItems}
    else{
        document.querySelector('#cart_items').innerHTML=""
        document.querySelector('#cart_items').setAttribute('visibility',"hidden")
        }

	}
	</script> #}
{% endblock %}
